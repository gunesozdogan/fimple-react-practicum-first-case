(()=>{"use strict";const t={playerIcons:["X","O"],switchIcons:function(){this.playerIcons="X"===this.playerIcons[0]?["O","X"]:["X","O"]},addMark:function(t,e,o){this.board[t][e]=o},board:[["","",""],["","",""],["","",""]],checkWinner:function(){let t;for(let e=0;e<3;e++)if(this.board[e][0]===this.board[e][1]&&this.board[e][0]===this.board[e][2]&&""!==this.board[e][0])return t=this.board[e][0],t;for(let e=0;e<3;e++)if(this.board[0][e]===this.board[1][e]&&this.board[0][e]===this.board[2][e]&&""!==this.board[0][e])return t=this.board[0][e],t;if(this.board[0][0]===this.board[1][1]&&this.board[0][0]===this.board[2][2]){if(""!==this.board[0][0])return t=this.board[0][0],t}else if(this.board[2][0]===this.board[1][1]&&this.board[2][0]===this.board[0][2]&&""!==this.board[2][0])return t=this.board[2][0],t},checkDraw:function(){for(let t=0;t<3;t++)for(let e=0;e<3;e++)if(""===this.board[t][e])return!1;return!0},restartBoard:function(){for(let t=0;t<3;t++)for(let e=0;e<3;e++)this.board[t][e]=""}};!function(){const e=t,o=[...document.querySelectorAll(".icon-text")],n=[...document.querySelectorAll(".icon")],r=document.querySelector(".game-type"),c=[...document.querySelectorAll(".player")],i=document.querySelector(".overlay");function s(){const t=document.querySelector(".active"),o=t.querySelector("button").textContent,n=t.querySelector("span").textContent,r=Number(this.className.split(" ")[0].split("-")[1]),c=Number(this.className.split(" ")[0].split("-")[2]),s=document.querySelector(".game-type").textContent,d=document.querySelector(".winner-text");""===this.textContent&&(this.textContent=o,this.style.color="X"===this.textContent?"#fff":"#C3073F",e.addMark(r,c,o),e.checkWinner()?l(n):e.checkDraw()?(i.classList.remove("hidden"),d.textContent="The game is tie!"):s.includes("AI")&&(a(),function(){const t=document.querySelector(".active").querySelector("button").textContent;let o,n,r;do{n=Math.floor(3*Math.random()),r=Math.floor(3*Math.random()),o=document.querySelector(`.span-${n}-${r}`)}while(""!==o.textContent);o.textContent=t,o.style.color="#C3073F",e.addMark(n,r,t),e.checkWinner()&&l("AI")}()),a())}function a(){c.forEach((t=>t.classList.toggle("active")))}function l(t){const o=document.querySelector(".winner-text"),n=e.checkWinner();i.classList.remove("hidden"),o.textContent=`The winner is ${t} (${n})`}function d(){o.forEach((t=>t.textContent=""));const t=document.querySelector(".player-1"),n=document.querySelector(".player-2");t.classList.add("active"),n.classList.remove("active"),e.restartBoard()}function u(){e.switchIcons();const t=document.querySelector(".player-1-icon"),o=document.querySelector(".player-2-icon");t.textContent=e.playerIcons[0],o.textContent=e.playerIcons[1]}i.addEventListener("click",(function(){i.classList.add("hidden"),d()})),n.forEach((t=>t.addEventListener("click",u))),r.addEventListener("click",(function(){const t=document.querySelector(".player-2-name");"Player vs Player"===r.textContent?(r.textContent="Player vs AI",t.textContent="AI"):(r.textContent="Player vs Player",t.textContent="Player 2"),d()})),o.forEach((t=>t.addEventListener("click",s)))}()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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a0MsRUFBUWhCLFVBQVVrQixJQUFJLFVBQ3RCRCxFQUFRakIsVUFBVUMsT0FBTyxVQUN6QjFCLEVBQVlELGNBQ2hCLENBZUEsU0FBUzZDLElBQ0w1QyxFQUFZWixjQUNaLE1BQU15RCxFQUFjMUMsU0FBU0ksY0FBYyxrQkFDckN1QyxFQUFjM0MsU0FBU0ksY0FBYyxrQkFFM0NzQyxFQUFZaEMsWUFBY2IsRUFBWWIsWUFBWSxHQUNsRDJELEVBQVlqQyxZQUFjYixFQUFZYixZQUFZLEVBQ3RELENBR0FzQixFQUFRc0MsaUJBQWlCLFNBckN6QixXQUNJdEMsRUFBUWdCLFVBQVVrQixJQUFJLFVBQ3RCSCxHQUNKLElBbUNBbkMsRUFBYzhCLFNBQVNhLEdBQVNBLEVBQUtELGlCQUFpQixRQUFTSCxLQUMvRHRDLEVBQVl5QyxpQkFBaUIsU0F4QjdCLFdBQ0ksTUFBTUUsRUFBYzlDLFNBQVNJLGNBQWMsa0JBQ1gscUJBQTVCRCxFQUFZTyxhQUNaUCxFQUFZTyxZQUFjLGVBQzFCb0MsRUFBWXBDLFlBQWMsT0FFMUJQLEVBQVlPLFlBQWMsbUJBQzFCb0MsRUFBWXBDLFlBQWMsWUFHOUIyQixHQUNKLElBY0F0QyxFQUFRaUMsU0FBU0wsR0FBV0EsRUFBT2lCLGlCQUFpQixRQUFTckMsSUFDaEUsQ0F0SFUsRSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZpbXBsZS1yZWFjdC1wcmFjdGljdW0tZmlyc3QtY2FzZS8uL3NyYy9tb2R1bGVzL2dhbWUuanMiLCJ3ZWJwYWNrOi8vZmltcGxlLXJlYWN0LXByYWN0aWN1bS1maXJzdC1jYXNlLy4vc3JjL21vZHVsZXMvVUkuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZ2FtZUJvYXJkID0gKGZ1bmN0aW9uICgpIHtcclxuICAgIGxldCBwbGF5ZXJJY29ucyA9IFsnWCcsICdPJ107XHJcbiAgICBjb25zdCBib2FyZCA9IFtcclxuICAgICAgICBbJycsICcnLCAnJ10sXHJcbiAgICAgICAgWycnLCAnJywgJyddLFxyXG4gICAgICAgIFsnJywgJycsICcnXSxcclxuICAgIF07XHJcblxyXG4gICAgZnVuY3Rpb24gc3dpdGNoSWNvbnMoKSB7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJJY29ucyA9XHJcbiAgICAgICAgICAgIHRoaXMucGxheWVySWNvbnNbMF0gPT09ICdYJyA/IFsnTycsICdYJ10gOiBbJ1gnLCAnTyddO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGFkZE1hcmsocm93LCBjb2x1bW4sIG1hcmspIHtcclxuICAgICAgICB0aGlzLmJvYXJkW3Jvd11bY29sdW1uXSA9IG1hcms7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY2hlY2tXaW5uZXIoKSB7XHJcbiAgICAgICAgbGV0IHdpbm5lcjtcclxuICAgICAgICAvLyBDSEVDS1MgRUFDSCBST1dcclxuICAgICAgICBmb3IgKGxldCByb3cgPSAwOyByb3cgPCAzOyByb3crKykge1xyXG4gICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICB0aGlzLmJvYXJkW3Jvd11bMF0gPT09IHRoaXMuYm9hcmRbcm93XVsxXSAmJlxyXG4gICAgICAgICAgICAgICAgdGhpcy5ib2FyZFtyb3ddWzBdID09PSB0aGlzLmJvYXJkW3Jvd11bMl1cclxuICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5ib2FyZFtyb3ddWzBdICE9PSAnJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHdpbm5lciA9IHRoaXMuYm9hcmRbcm93XVswXTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gd2lubmVyO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIENIRUNLUyBFQUNIIENPTFVNTlxyXG4gICAgICAgIGZvciAobGV0IGNvbCA9IDA7IGNvbCA8IDM7IGNvbCsrKSB7XHJcbiAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgIHRoaXMuYm9hcmRbMF1bY29sXSA9PT0gdGhpcy5ib2FyZFsxXVtjb2xdICYmXHJcbiAgICAgICAgICAgICAgICB0aGlzLmJvYXJkWzBdW2NvbF0gPT09IHRoaXMuYm9hcmRbMl1bY29sXVxyXG4gICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmJvYXJkWzBdW2NvbF0gIT09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2lubmVyID0gdGhpcy5ib2FyZFswXVtjb2xdO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB3aW5uZXI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gQ0hFQ0tTIERJQUdPTkFMXHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICB0aGlzLmJvYXJkWzBdWzBdID09PSB0aGlzLmJvYXJkWzFdWzFdICYmXHJcbiAgICAgICAgICAgIHRoaXMuYm9hcmRbMF1bMF0gPT09IHRoaXMuYm9hcmRbMl1bMl1cclxuICAgICAgICApIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuYm9hcmRbMF1bMF0gIT09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICB3aW5uZXIgPSB0aGlzLmJvYXJkWzBdWzBdO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHdpbm5lcjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSBpZiAoXHJcbiAgICAgICAgICAgIHRoaXMuYm9hcmRbMl1bMF0gPT09IHRoaXMuYm9hcmRbMV1bMV0gJiZcclxuICAgICAgICAgICAgdGhpcy5ib2FyZFsyXVswXSA9PT0gdGhpcy5ib2FyZFswXVsyXVxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5ib2FyZFsyXVswXSAhPT0gJycpIHtcclxuICAgICAgICAgICAgICAgIHdpbm5lciA9IHRoaXMuYm9hcmRbMl1bMF07XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gd2lubmVyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGNoZWNrRHJhdygpIHtcclxuICAgICAgICBmb3IgKGxldCByb3cgPSAwOyByb3cgPCAzOyByb3crKykge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBjb2wgPSAwOyBjb2wgPCAzOyBjb2wrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYm9hcmRbcm93XVtjb2xdID09PSAnJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiByZXN0YXJ0Qm9hcmQoKSB7XHJcbiAgICAgICAgZm9yIChsZXQgcm93ID0gMDsgcm93IDwgMzsgcm93KyspIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgY29sID0gMDsgY29sIDwgMzsgY29sKyspIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYm9hcmRbcm93XVtjb2xdID0gJyc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBwbGF5ZXJJY29ucyxcclxuICAgICAgICBzd2l0Y2hJY29ucyxcclxuICAgICAgICBhZGRNYXJrLFxyXG4gICAgICAgIGJvYXJkLFxyXG4gICAgICAgIGNoZWNrV2lubmVyLFxyXG4gICAgICAgIGNoZWNrRHJhdyxcclxuICAgICAgICByZXN0YXJ0Qm9hcmQsXHJcbiAgICB9O1xyXG59KSgpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgZ2FtZUJvYXJkO1xyXG4iLCJpbXBvcnQgZ2FtZUJvYXJkIGZyb20gJy4vZ2FtZS5qcyc7XHJcblxyXG5jb25zdCBVSSA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICBjb25zdCBteUdhbWVCb2FyZCA9IGdhbWVCb2FyZDtcclxuICAgIGNvbnN0IHNxdWFyZXMgPSBbLi4uZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmljb24tdGV4dCcpXTtcclxuICAgIGNvbnN0IHBsYXllckljb25CdG4gPSBbLi4uZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmljb24nKV07XHJcbiAgICBjb25zdCBnYW1lVHlwZUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5nYW1lLXR5cGUnKTtcclxuICAgIGNvbnN0IHBsYXllcnMgPSBbLi4uZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnBsYXllcicpXTtcclxuICAgIGNvbnN0IG92ZXJsYXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcub3ZlcmxheScpO1xyXG5cclxuICAgIC8vIFBMQUNFUyBDVVJSRU5UIFBMQVlFUlMgTUFSSyBXSVRIIEFQUFJPUFJJQVRFIENPTE9SXHJcbiAgICBmdW5jdGlvbiBwbGFjZUljb24oKSB7XHJcbiAgICAgICAgY29uc3QgYWN0aXZlUGxheWVyRGl2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFjdGl2ZScpO1xyXG4gICAgICAgIGNvbnN0IGFjdGl2ZVBsYXllckljb24gPVxyXG4gICAgICAgICAgICBhY3RpdmVQbGF5ZXJEaXYucXVlcnlTZWxlY3RvcignYnV0dG9uJykudGV4dENvbnRlbnQ7XHJcbiAgICAgICAgY29uc3QgYWN0aXZlUGxheWVyTmFtZSA9XHJcbiAgICAgICAgICAgIGFjdGl2ZVBsYXllckRpdi5xdWVyeVNlbGVjdG9yKCdzcGFuJykudGV4dENvbnRlbnQ7XHJcblxyXG4gICAgICAgIGNvbnN0IGN1clJvdyA9IE51bWJlcih0aGlzLmNsYXNzTmFtZS5zcGxpdCgnICcpWzBdLnNwbGl0KCctJylbMV0pO1xyXG4gICAgICAgIGNvbnN0IGN1ckNvbHVtbiA9IE51bWJlcih0aGlzLmNsYXNzTmFtZS5zcGxpdCgnICcpWzBdLnNwbGl0KCctJylbMl0pO1xyXG4gICAgICAgIGNvbnN0IGdhbWVUeXBlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmdhbWUtdHlwZScpLnRleHRDb250ZW50O1xyXG4gICAgICAgIGNvbnN0IHdpbm5lclRleHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcud2lubmVyLXRleHQnKTtcclxuXHJcbiAgICAgICAgLy8gSUYgSVRTIEVNUFRZIFNRVUFSRVxyXG4gICAgICAgIGlmICh0aGlzLnRleHRDb250ZW50ID09PSAnJykge1xyXG4gICAgICAgICAgICB0aGlzLnRleHRDb250ZW50ID0gYWN0aXZlUGxheWVySWNvbjtcclxuICAgICAgICAgICAgdGhpcy5zdHlsZS5jb2xvciA9IHRoaXMudGV4dENvbnRlbnQgPT09ICdYJyA/ICcjZmZmJyA6ICcjQzMwNzNGJztcclxuICAgICAgICAgICAgLy8gVVBEQVRFUyBCT0FSRCBBUlJBWVxyXG4gICAgICAgICAgICBteUdhbWVCb2FyZC5hZGRNYXJrKGN1clJvdywgY3VyQ29sdW1uLCBhY3RpdmVQbGF5ZXJJY29uKTtcclxuICAgICAgICAgICAgLy8gRElTUExBWVMgVEhFIFdJTk5FUiBURVhUIElGIFRIRSBHQU1FIElTIEZJTklTSEVEXHJcbiAgICAgICAgICAgIGlmIChteUdhbWVCb2FyZC5jaGVja1dpbm5lcigpKSB7XHJcbiAgICAgICAgICAgICAgICBkaXNwbGF5V2lubmVyVGV4dChhY3RpdmVQbGF5ZXJOYW1lKTtcclxuICAgICAgICAgICAgICAgIC8vIERJU1BMQVlTIFRIRSBUSUUgTUVTU0FHRSBJRiBJVFMgVElFXHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobXlHYW1lQm9hcmQuY2hlY2tEcmF3KCkpIHtcclxuICAgICAgICAgICAgICAgIG92ZXJsYXkuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XHJcbiAgICAgICAgICAgICAgICB3aW5uZXJUZXh0LnRleHRDb250ZW50ID0gJ1RoZSBnYW1lIGlzIHRpZSEnO1xyXG4gICAgICAgICAgICAgICAgLy8gQUknUyBUVVJOXHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZ2FtZVR5cGUuaW5jbHVkZXMoJ0FJJykpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaFBsYXllcigpO1xyXG4gICAgICAgICAgICAgICAgcGxhY2VJY29uQUkoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzd2l0Y2hQbGF5ZXIoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gcGxhY2VJY29uQUkoKSB7XHJcbiAgICAgICAgY29uc3QgZGl2QUkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWN0aXZlJyk7XHJcbiAgICAgICAgY29uc3QgaWNvbkFJID0gZGl2QUkucXVlcnlTZWxlY3RvcignYnV0dG9uJykudGV4dENvbnRlbnQ7XHJcbiAgICAgICAgbGV0IHNxdWFyZSwgcm93LCBjb2w7XHJcblxyXG4gICAgICAgIC8vIFBVVFMgTUFSSyBPTiBSQU5ET00gUExBQ0VcclxuICAgICAgICBkbyB7XHJcbiAgICAgICAgICAgIHJvdyA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDMpO1xyXG4gICAgICAgICAgICBjb2wgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAzKTtcclxuICAgICAgICAgICAgc3F1YXJlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLnNwYW4tJHtyb3d9LSR7Y29sfWApO1xyXG4gICAgICAgIH0gd2hpbGUgKHNxdWFyZS50ZXh0Q29udGVudCAhPT0gJycpO1xyXG5cclxuICAgICAgICBzcXVhcmUudGV4dENvbnRlbnQgPSBpY29uQUk7XHJcbiAgICAgICAgc3F1YXJlLnN0eWxlLmNvbG9yID0gJyNDMzA3M0YnO1xyXG4gICAgICAgIG15R2FtZUJvYXJkLmFkZE1hcmsocm93LCBjb2wsIGljb25BSSk7XHJcblxyXG4gICAgICAgIC8vIENIRUNLUyBJRiBBSSBXT05cclxuICAgICAgICBpZiAobXlHYW1lQm9hcmQuY2hlY2tXaW5uZXIoKSkge1xyXG4gICAgICAgICAgICBkaXNwbGF5V2lubmVyVGV4dCgnQUknKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gc3dpdGNoUGxheWVyKCkge1xyXG4gICAgICAgIHBsYXllcnMuZm9yRWFjaCgocGxheWVyKSA9PiBwbGF5ZXIuY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlJykpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGRpc3BsYXlXaW5uZXJUZXh0KG5hbWUpIHtcclxuICAgICAgICBjb25zdCB3aW5uZXJUZXh0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLndpbm5lci10ZXh0Jyk7XHJcbiAgICAgICAgY29uc3Qgd2lubmVySWNvbiA9IG15R2FtZUJvYXJkLmNoZWNrV2lubmVyKCk7XHJcblxyXG4gICAgICAgIG92ZXJsYXkuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XHJcbiAgICAgICAgd2lubmVyVGV4dC50ZXh0Q29udGVudCA9IGBUaGUgd2lubmVyIGlzICR7bmFtZX0gKCR7d2lubmVySWNvbn0pYDtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiByZW1vdmVXaW5uZXJUZXh0KCkge1xyXG4gICAgICAgIG92ZXJsYXkuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XHJcbiAgICAgICAgcmVzdGFydEdhbWUoKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiByZXN0YXJ0R2FtZSgpIHtcclxuICAgICAgICBzcXVhcmVzLmZvckVhY2goKHNxdWFyZSkgPT4gKHNxdWFyZS50ZXh0Q29udGVudCA9ICcnKSk7XHJcbiAgICAgICAgY29uc3QgcGxheWVyMSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wbGF5ZXItMScpO1xyXG4gICAgICAgIGNvbnN0IHBsYXllcjIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGxheWVyLTInKTtcclxuICAgICAgICBwbGF5ZXIxLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xyXG4gICAgICAgIHBsYXllcjIuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcbiAgICAgICAgbXlHYW1lQm9hcmQucmVzdGFydEJvYXJkKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gU1dJVENIRVMgR0FNRSBUWVBFXHJcbiAgICBmdW5jdGlvbiBzZWxlY3RHYW1lVHlwZSgpIHtcclxuICAgICAgICBjb25zdCBwbGF5ZXIyTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wbGF5ZXItMi1uYW1lJyk7XHJcbiAgICAgICAgaWYgKGdhbWVUeXBlQnRuLnRleHRDb250ZW50ID09PSAnUGxheWVyIHZzIFBsYXllcicpIHtcclxuICAgICAgICAgICAgZ2FtZVR5cGVCdG4udGV4dENvbnRlbnQgPSAnUGxheWVyIHZzIEFJJztcclxuICAgICAgICAgICAgcGxheWVyMk5hbWUudGV4dENvbnRlbnQgPSAnQUknO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGdhbWVUeXBlQnRuLnRleHRDb250ZW50ID0gJ1BsYXllciB2cyBQbGF5ZXInO1xyXG4gICAgICAgICAgICBwbGF5ZXIyTmFtZS50ZXh0Q29udGVudCA9ICdQbGF5ZXIgMic7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXN0YXJ0R2FtZSgpO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gc2VsZWN0SWNvbigpIHtcclxuICAgICAgICBteUdhbWVCb2FyZC5zd2l0Y2hJY29ucygpO1xyXG4gICAgICAgIGNvbnN0IHBsYXllckljb24xID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBsYXllci0xLWljb24nKTtcclxuICAgICAgICBjb25zdCBwbGF5ZXJJY29uMiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wbGF5ZXItMi1pY29uJyk7XHJcblxyXG4gICAgICAgIHBsYXllckljb24xLnRleHRDb250ZW50ID0gbXlHYW1lQm9hcmQucGxheWVySWNvbnNbMF07XHJcbiAgICAgICAgcGxheWVySWNvbjIudGV4dENvbnRlbnQgPSBteUdhbWVCb2FyZC5wbGF5ZXJJY29uc1sxXTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBFVkVOVCBMSVNURU5FUlNcclxuICAgIG92ZXJsYXkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCByZW1vdmVXaW5uZXJUZXh0KTtcclxuICAgIHBsYXllckljb25CdG4uZm9yRWFjaCgoaWNvbikgPT4gaWNvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHNlbGVjdEljb24pKTtcclxuICAgIGdhbWVUeXBlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc2VsZWN0R2FtZVR5cGUpO1xyXG4gICAgc3F1YXJlcy5mb3JFYWNoKChzcXVhcmUpID0+IHNxdWFyZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHBsYWNlSWNvbikpO1xyXG59KSgpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgVUk7XHJcbiJdLCJuYW1lcyI6WyJwbGF5ZXJJY29ucyIsInN3aXRjaEljb25zIiwidGhpcyIsImFkZE1hcmsiLCJyb3ciLCJjb2x1bW4iLCJtYXJrIiwiYm9hcmQiLCJjaGVja1dpbm5lciIsIndpbm5lciIsImNvbCIsImNoZWNrRHJhdyIsInJlc3RhcnRCb2FyZCIsIm15R2FtZUJvYXJkIiwiZ2FtZSIsInNxdWFyZXMiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJwbGF5ZXJJY29uQnRuIiwiZ2FtZVR5cGVCdG4iLCJxdWVyeVNlbGVjdG9yIiwicGxheWVycyIsIm92ZXJsYXkiLCJwbGFjZUljb24iLCJhY3RpdmVQbGF5ZXJEaXYiLCJhY3RpdmVQbGF5ZXJJY29uIiwidGV4dENvbnRlbnQiLCJhY3RpdmVQbGF5ZXJOYW1lIiwiY3VyUm93IiwiTnVtYmVyIiwiY2xhc3NOYW1lIiwic3BsaXQiLCJjdXJDb2x1bW4iLCJnYW1lVHlwZSIsIndpbm5lclRleHQiLCJzdHlsZSIsImNvbG9yIiwiZGlzcGxheVdpbm5lclRleHQiLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJpbmNsdWRlcyIsInN3aXRjaFBsYXllciIsImljb25BSSIsInNxdWFyZSIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsInBsYWNlSWNvbkFJIiwiZm9yRWFjaCIsInBsYXllciIsInRvZ2dsZSIsIm5hbWUiLCJ3aW5uZXJJY29uIiwicmVzdGFydEdhbWUiLCJwbGF5ZXIxIiwicGxheWVyMiIsImFkZCIsInNlbGVjdEljb24iLCJwbGF5ZXJJY29uMSIsInBsYXllckljb24yIiwiYWRkRXZlbnRMaXN0ZW5lciIsImljb24iLCJwbGF5ZXIyTmFtZSJdLCJzb3VyY2VSb290IjoiIn0=