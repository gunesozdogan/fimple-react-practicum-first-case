(()=>{"use strict";const t={playerIcons:["X","O"],switchIcons:function(){this.playerIcons="X"===this.playerIcons[0]?["O","X"]:["X","O"]},addMark:function(t,e,o){this.board[t][e]=o},board:[["","",""],["","",""],["","",""]],checkWinner:function(){let t;for(let e=0;e<3;e++)if(this.board[e][0]===this.board[e][1]&&this.board[e][0]===this.board[e][2]&&""!==this.board[e][0])return t=this.board[e][0],t;for(let e=0;e<3;e++)if(this.board[0][e]===this.board[1][e]&&this.board[0][e]===this.board[2][e]&&""!==this.board[0][e])return t=this.board[0][e],t;if(this.board[0][0]===this.board[1][1]&&this.board[0][0]===this.board[2][2]){if(""!==this.board[0][0])return t=this.board[0][0],t}else if(this.board[2][0]===this.board[1][1]&&this.board[2][0]===this.board[0][2]&&""!==this.board[2][0])return t=this.board[2][0],t},checkDraw:function(){for(let t=0;t<3;t++)for(let e=0;e<3;e++)if(""===this.board[t][e])return!1;return!0}};!function(){const e=t,o=[...document.querySelectorAll(".icon-text")],n=[...document.querySelectorAll(".icon")],r=document.querySelector(".game-type"),c=[...document.querySelectorAll(".player")],i=document.querySelector(".overlay");function s(){const t=document.querySelector(".active"),o=t.querySelector("button").textContent,n=t.querySelector("span").textContent,r=Number(this.className.split(" ")[0].split("-")[1]),c=Number(this.className.split(" ")[0].split("-")[2]),s=document.querySelector(".game-type").textContent,d=document.querySelector(".winner-text");""===this.textContent&&(this.textContent=o,this.style.color="X"===this.textContent?"#fff":"#C3073F",e.addMark(r,c,o),e.checkWinner()?l(n):e.checkDraw()?(i.classList.remove("hidden"),d.textContent="The game is tie!"):s.includes("AI")&&(a(),function(){const t=document.querySelector(".active").querySelector("button").textContent;let o,n,r;do{n=Math.floor(3*Math.random()),r=Math.floor(3*Math.random()),o=document.querySelector(`.span-${n}-${r}`)}while(""!==o.textContent);o.textContent=t,o.style.color="#C3073F",e.addMark(n,r,t),e.checkWinner()&&l("AI")}()),a())}function a(){c.forEach((t=>t.classList.toggle("active")))}function l(t){const o=document.querySelector(".winner-text"),n=e.checkWinner();i.classList.remove("hidden"),o.textContent=`The winner is ${t} (${n})`}function d(){o.forEach((t=>t.textContent=""));const t=document.querySelector(".player-1"),n=document.querySelector(".player-2");t.classList.add("active"),n.classList.remove("active");for(let t=0;t<3;t++)for(let o=0;o<3;o++)e.board[t][o]=""}function u(){e.switchIcons();const t=document.querySelector(".player-1-icon"),o=document.querySelector(".player-2-icon");t.textContent=e.playerIcons[0],o.textContent=e.playerIcons[1]}i.addEventListener("click",(function(){i.classList.add("hidden"),d()})),n.forEach((t=>t.addEventListener("click",u))),r.addEventListener("click",(function(){const t=document.querySelector(".player-2-name");"Player vs Player"===r.textContent?(r.textContent="Player vs AI",t.textContent="AI"):(r.textContent="Player vs Player",t.textContent="Player 2"),d()})),o.forEach((t=>t.addEventListener("click",s)))}()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RUFBR0EsSUFDdkJFLEVBQVlMLE1BQU1ILEdBQUtNLEdBQU8sRUFHMUMsQ0FlQSxTQUFTOEMsSUFDTDVDLEVBQVlYLGNBQ1osTUFBTXdELEVBQWMxQyxTQUFTSSxjQUFjLGtCQUNyQ3VDLEVBQWMzQyxTQUFTSSxjQUFjLGtCQUUzQ3NDLEVBQVloQyxZQUFjYixFQUFZWixZQUFZLEdBQ2xEMEQsRUFBWWpDLFlBQWNiLEVBQVlaLFlBQVksRUFDdEQsQ0FHQXFCLEVBQVFzQyxpQkFBaUIsU0F6Q3pCLFdBQ0l0QyxFQUFRZ0IsVUFBVWtCLElBQUksVUFDdEJILEdBQ0osSUF1Q0FuQyxFQUFjOEIsU0FBU2EsR0FBU0EsRUFBS0QsaUJBQWlCLFFBQVNILEtBQy9EdEMsRUFBWXlDLGlCQUFpQixTQXhCN0IsV0FDSSxNQUFNRSxFQUFjOUMsU0FBU0ksY0FBYyxrQkFDWCxxQkFBNUJELEVBQVlPLGFBQ1pQLEVBQVlPLFlBQWMsZUFDMUJvQyxFQUFZcEMsWUFBYyxPQUUxQlAsRUFBWU8sWUFBYyxtQkFDMUJvQyxFQUFZcEMsWUFBYyxZQUc5QjJCLEdBQ0osSUFjQXRDLEVBQVFpQyxTQUFTTCxHQUFXQSxFQUFPaUIsaUJBQWlCLFFBQVNyQyxJQUNoRSxDQTFIVSxFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmltcGxlLXJlYWN0LXByYWN0aWN1bS1maXJzdC1jYXNlLy4vc3JjL21vZHVsZXMvZ2FtZS5qcyIsIndlYnBhY2s6Ly9maW1wbGUtcmVhY3QtcHJhY3RpY3VtLWZpcnN0LWNhc2UvLi9zcmMvbW9kdWxlcy9VSS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBnYW1lQm9hcmQgPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgbGV0IHBsYXllckljb25zID0gWydYJywgJ08nXTtcclxuICAgIGNvbnN0IGJvYXJkID0gW1xyXG4gICAgICAgIFsnJywgJycsICcnXSxcclxuICAgICAgICBbJycsICcnLCAnJ10sXHJcbiAgICAgICAgWycnLCAnJywgJyddLFxyXG4gICAgXTtcclxuXHJcbiAgICBmdW5jdGlvbiBzd2l0Y2hJY29ucygpIHtcclxuICAgICAgICB0aGlzLnBsYXllckljb25zID1cclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXJJY29uc1swXSA9PT0gJ1gnID8gWydPJywgJ1gnXSA6IFsnWCcsICdPJ107XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gYWRkTWFyayhyb3csIGNvbHVtbiwgbWFyaykge1xyXG4gICAgICAgIHRoaXMuYm9hcmRbcm93XVtjb2x1bW5dID0gbWFyaztcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjaGVja1dpbm5lcigpIHtcclxuICAgICAgICBsZXQgd2lubmVyO1xyXG5cclxuICAgICAgICAvLyBDSEVDS1MgRUFDSCBST1dcclxuICAgICAgICBmb3IgKGxldCByb3cgPSAwOyByb3cgPCAzOyByb3crKykge1xyXG4gICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICB0aGlzLmJvYXJkW3Jvd11bMF0gPT09IHRoaXMuYm9hcmRbcm93XVsxXSAmJlxyXG4gICAgICAgICAgICAgICAgdGhpcy5ib2FyZFtyb3ddWzBdID09PSB0aGlzLmJvYXJkW3Jvd11bMl1cclxuICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5ib2FyZFtyb3ddWzBdICE9PSAnJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHdpbm5lciA9IHRoaXMuYm9hcmRbcm93XVswXTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gd2lubmVyO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIENIRUNLUyBFQUNIIENPTFVNTlxyXG4gICAgICAgIGZvciAobGV0IGNvbCA9IDA7IGNvbCA8IDM7IGNvbCsrKSB7XHJcbiAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgIHRoaXMuYm9hcmRbMF1bY29sXSA9PT0gdGhpcy5ib2FyZFsxXVtjb2xdICYmXHJcbiAgICAgICAgICAgICAgICB0aGlzLmJvYXJkWzBdW2NvbF0gPT09IHRoaXMuYm9hcmRbMl1bY29sXVxyXG4gICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmJvYXJkWzBdW2NvbF0gIT09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2lubmVyID0gdGhpcy5ib2FyZFswXVtjb2xdO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB3aW5uZXI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIENIRUNLUyBESUFHT05BTFxyXG4gICAgICAgIGlmIChcclxuICAgICAgICAgICAgdGhpcy5ib2FyZFswXVswXSA9PT0gdGhpcy5ib2FyZFsxXVsxXSAmJlxyXG4gICAgICAgICAgICB0aGlzLmJvYXJkWzBdWzBdID09PSB0aGlzLmJvYXJkWzJdWzJdXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmJvYXJkWzBdWzBdICE9PSAnJykge1xyXG4gICAgICAgICAgICAgICAgd2lubmVyID0gdGhpcy5ib2FyZFswXVswXTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB3aW5uZXI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2UgaWYgKFxyXG4gICAgICAgICAgICB0aGlzLmJvYXJkWzJdWzBdID09PSB0aGlzLmJvYXJkWzFdWzFdICYmXHJcbiAgICAgICAgICAgIHRoaXMuYm9hcmRbMl1bMF0gPT09IHRoaXMuYm9hcmRbMF1bMl1cclxuICAgICAgICApIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuYm9hcmRbMl1bMF0gIT09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICB3aW5uZXIgPSB0aGlzLmJvYXJkWzJdWzBdO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHdpbm5lcjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjaGVja0RyYXcoKSB7XHJcbiAgICAgICAgZm9yIChsZXQgcm93ID0gMDsgcm93IDwgMzsgcm93KyspIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgY29sID0gMDsgY29sIDwgMzsgY29sKyspIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmJvYXJkW3Jvd11bY29sXSA9PT0gJycpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHsgcGxheWVySWNvbnMsIHN3aXRjaEljb25zLCBhZGRNYXJrLCBib2FyZCwgY2hlY2tXaW5uZXIsIGNoZWNrRHJhdyB9O1xyXG59KSgpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgZ2FtZUJvYXJkO1xyXG4iLCJpbXBvcnQgZ2FtZUJvYXJkIGZyb20gJy4vZ2FtZS5qcyc7XHJcblxyXG5jb25zdCBVSSA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICBjb25zdCBteUdhbWVCb2FyZCA9IGdhbWVCb2FyZDtcclxuICAgIGNvbnN0IHNxdWFyZXMgPSBbLi4uZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmljb24tdGV4dCcpXTtcclxuICAgIGNvbnN0IHBsYXllckljb25CdG4gPSBbLi4uZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmljb24nKV07XHJcbiAgICBjb25zdCBnYW1lVHlwZUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5nYW1lLXR5cGUnKTtcclxuICAgIGNvbnN0IHBsYXllcnMgPSBbLi4uZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnBsYXllcicpXTtcclxuICAgIGNvbnN0IG92ZXJsYXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcub3ZlcmxheScpO1xyXG5cclxuICAgIC8vIFBMQUNFUyBDVVJSRU5UIFBMQVlFUlMgTUFSSyBXSVRIIEFQUFJPUFJJQVRFIENPTE9SXHJcbiAgICBmdW5jdGlvbiBwbGFjZUljb24oKSB7XHJcbiAgICAgICAgY29uc3QgYWN0aXZlUGxheWVyRGl2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFjdGl2ZScpO1xyXG4gICAgICAgIGNvbnN0IGFjdGl2ZVBsYXllckljb24gPVxyXG4gICAgICAgICAgICBhY3RpdmVQbGF5ZXJEaXYucXVlcnlTZWxlY3RvcignYnV0dG9uJykudGV4dENvbnRlbnQ7XHJcbiAgICAgICAgY29uc3QgYWN0aXZlUGxheWVyTmFtZSA9XHJcbiAgICAgICAgICAgIGFjdGl2ZVBsYXllckRpdi5xdWVyeVNlbGVjdG9yKCdzcGFuJykudGV4dENvbnRlbnQ7XHJcblxyXG4gICAgICAgIGNvbnN0IGN1clJvdyA9IE51bWJlcih0aGlzLmNsYXNzTmFtZS5zcGxpdCgnICcpWzBdLnNwbGl0KCctJylbMV0pO1xyXG4gICAgICAgIGNvbnN0IGN1ckNvbHVtbiA9IE51bWJlcih0aGlzLmNsYXNzTmFtZS5zcGxpdCgnICcpWzBdLnNwbGl0KCctJylbMl0pO1xyXG4gICAgICAgIGNvbnN0IGdhbWVUeXBlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmdhbWUtdHlwZScpLnRleHRDb250ZW50O1xyXG4gICAgICAgIGNvbnN0IHdpbm5lclRleHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcud2lubmVyLXRleHQnKTtcclxuXHJcbiAgICAgICAgLy8gSUYgSVRTIEVNUFRZIFNRVUFSRVxyXG4gICAgICAgIGlmICh0aGlzLnRleHRDb250ZW50ID09PSAnJykge1xyXG4gICAgICAgICAgICB0aGlzLnRleHRDb250ZW50ID0gYWN0aXZlUGxheWVySWNvbjtcclxuICAgICAgICAgICAgdGhpcy5zdHlsZS5jb2xvciA9IHRoaXMudGV4dENvbnRlbnQgPT09ICdYJyA/ICcjZmZmJyA6ICcjQzMwNzNGJztcclxuICAgICAgICAgICAgLy8gVVBEQVRFUyBCT0FSRCBBUlJBWVxyXG4gICAgICAgICAgICBteUdhbWVCb2FyZC5hZGRNYXJrKGN1clJvdywgY3VyQ29sdW1uLCBhY3RpdmVQbGF5ZXJJY29uKTtcclxuICAgICAgICAgICAgLy8gRElTUExBWVMgVEhFIFdJTk5FUiBURVhUIElGIFRIRSBHQU1FIElTIEZJTklTSEVEXHJcbiAgICAgICAgICAgIGlmIChteUdhbWVCb2FyZC5jaGVja1dpbm5lcigpKSB7XHJcbiAgICAgICAgICAgICAgICBkaXNwbGF5V2lubmVyVGV4dChhY3RpdmVQbGF5ZXJOYW1lKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBESVNQTEFZUyBUSEUgVElFIE1FU1NBR0UgSUYgSVRTIFRJRVxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKG15R2FtZUJvYXJkLmNoZWNrRHJhdygpKSB7XHJcbiAgICAgICAgICAgICAgICBvdmVybGF5LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xyXG4gICAgICAgICAgICAgICAgd2lubmVyVGV4dC50ZXh0Q29udGVudCA9ICdUaGUgZ2FtZSBpcyB0aWUhJztcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChnYW1lVHlwZS5pbmNsdWRlcygnQUknKSkge1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoUGxheWVyKCk7XHJcbiAgICAgICAgICAgICAgICBwbGFjZUljb25BSSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHN3aXRjaFBsYXllcigpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBwbGFjZUljb25BSSgpIHtcclxuICAgICAgICBjb25zdCBkaXZBSSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hY3RpdmUnKTtcclxuICAgICAgICBjb25zdCBpY29uQUkgPSBkaXZBSS5xdWVyeVNlbGVjdG9yKCdidXR0b24nKS50ZXh0Q29udGVudDtcclxuICAgICAgICBsZXQgc3F1YXJlLCByb3csIGNvbDtcclxuXHJcbiAgICAgICAgLy8gUFVUUyBNQVJLIE9OIFJBTkRPTSBQTEFDRVxyXG4gICAgICAgIGRvIHtcclxuICAgICAgICAgICAgcm93ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMyk7XHJcbiAgICAgICAgICAgIGNvbCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDMpO1xyXG4gICAgICAgICAgICBzcXVhcmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuc3Bhbi0ke3Jvd30tJHtjb2x9YCk7XHJcbiAgICAgICAgfSB3aGlsZSAoc3F1YXJlLnRleHRDb250ZW50ICE9PSAnJyk7XHJcblxyXG4gICAgICAgIHNxdWFyZS50ZXh0Q29udGVudCA9IGljb25BSTtcclxuICAgICAgICBzcXVhcmUuc3R5bGUuY29sb3IgPSAnI0MzMDczRic7XHJcbiAgICAgICAgbXlHYW1lQm9hcmQuYWRkTWFyayhyb3csIGNvbCwgaWNvbkFJKTtcclxuXHJcbiAgICAgICAgLy8gQ0hFQ0tTIElGIEFJIFdPTlxyXG4gICAgICAgIGlmIChteUdhbWVCb2FyZC5jaGVja1dpbm5lcigpKSB7XHJcbiAgICAgICAgICAgIGRpc3BsYXlXaW5uZXJUZXh0KCdBSScpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBzd2l0Y2hQbGF5ZXIoKSB7XHJcbiAgICAgICAgcGxheWVycy5mb3JFYWNoKChwbGF5ZXIpID0+IHBsYXllci5jbGFzc0xpc3QudG9nZ2xlKCdhY3RpdmUnKSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZGlzcGxheVdpbm5lclRleHQobmFtZSkge1xyXG4gICAgICAgIGNvbnN0IHdpbm5lclRleHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcud2lubmVyLXRleHQnKTtcclxuICAgICAgICBjb25zdCB3aW5uZXJJY29uID0gbXlHYW1lQm9hcmQuY2hlY2tXaW5uZXIoKTtcclxuXHJcbiAgICAgICAgb3ZlcmxheS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcclxuICAgICAgICB3aW5uZXJUZXh0LnRleHRDb250ZW50ID0gYFRoZSB3aW5uZXIgaXMgJHtuYW1lfSAoJHt3aW5uZXJJY29ufSlgO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHJlbW92ZVdpbm5lclRleHQoKSB7XHJcbiAgICAgICAgb3ZlcmxheS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcclxuICAgICAgICByZXN0YXJ0R2FtZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHJlc3RhcnRHYW1lKCkge1xyXG4gICAgICAgIHNxdWFyZXMuZm9yRWFjaCgoc3F1YXJlKSA9PiAoc3F1YXJlLnRleHRDb250ZW50ID0gJycpKTtcclxuICAgICAgICBjb25zdCBwbGF5ZXIxID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBsYXllci0xJyk7XHJcbiAgICAgICAgY29uc3QgcGxheWVyMiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wbGF5ZXItMicpO1xyXG4gICAgICAgIHBsYXllcjEuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcbiAgICAgICAgcGxheWVyMi5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcclxuICAgICAgICBmb3IgKGxldCByb3cgPSAwOyByb3cgPCAzOyByb3crKykge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBjb2wgPSAwOyBjb2wgPCAzOyBjb2wrKykge1xyXG4gICAgICAgICAgICAgICAgbXlHYW1lQm9hcmQuYm9hcmRbcm93XVtjb2xdID0gJyc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gU1dJVENIRVMgR0FNRSBUWVBFXHJcbiAgICBmdW5jdGlvbiBzZWxlY3RHYW1lVHlwZSgpIHtcclxuICAgICAgICBjb25zdCBwbGF5ZXIyTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wbGF5ZXItMi1uYW1lJyk7XHJcbiAgICAgICAgaWYgKGdhbWVUeXBlQnRuLnRleHRDb250ZW50ID09PSAnUGxheWVyIHZzIFBsYXllcicpIHtcclxuICAgICAgICAgICAgZ2FtZVR5cGVCdG4udGV4dENvbnRlbnQgPSAnUGxheWVyIHZzIEFJJztcclxuICAgICAgICAgICAgcGxheWVyMk5hbWUudGV4dENvbnRlbnQgPSAnQUknO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGdhbWVUeXBlQnRuLnRleHRDb250ZW50ID0gJ1BsYXllciB2cyBQbGF5ZXInO1xyXG4gICAgICAgICAgICBwbGF5ZXIyTmFtZS50ZXh0Q29udGVudCA9ICdQbGF5ZXIgMic7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXN0YXJ0R2FtZSgpO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gc2VsZWN0SWNvbigpIHtcclxuICAgICAgICBteUdhbWVCb2FyZC5zd2l0Y2hJY29ucygpO1xyXG4gICAgICAgIGNvbnN0IHBsYXllckljb24xID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBsYXllci0xLWljb24nKTtcclxuICAgICAgICBjb25zdCBwbGF5ZXJJY29uMiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wbGF5ZXItMi1pY29uJyk7XHJcblxyXG4gICAgICAgIHBsYXllckljb24xLnRleHRDb250ZW50ID0gbXlHYW1lQm9hcmQucGxheWVySWNvbnNbMF07XHJcbiAgICAgICAgcGxheWVySWNvbjIudGV4dENvbnRlbnQgPSBteUdhbWVCb2FyZC5wbGF5ZXJJY29uc1sxXTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBFVkVOVCBMSVNURU5FUlNcclxuICAgIG92ZXJsYXkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCByZW1vdmVXaW5uZXJUZXh0KTtcclxuICAgIHBsYXllckljb25CdG4uZm9yRWFjaCgoaWNvbikgPT4gaWNvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHNlbGVjdEljb24pKTtcclxuICAgIGdhbWVUeXBlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc2VsZWN0R2FtZVR5cGUpO1xyXG4gICAgc3F1YXJlcy5mb3JFYWNoKChzcXVhcmUpID0+IHNxdWFyZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHBsYWNlSWNvbikpO1xyXG59KSgpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgVUk7XHJcbiJdLCJuYW1lcyI6WyJwbGF5ZXJJY29ucyIsInN3aXRjaEljb25zIiwidGhpcyIsImFkZE1hcmsiLCJyb3ciLCJjb2x1bW4iLCJtYXJrIiwiYm9hcmQiLCJjaGVja1dpbm5lciIsIndpbm5lciIsImNvbCIsImNoZWNrRHJhdyIsIm15R2FtZUJvYXJkIiwiZ2FtZSIsInNxdWFyZXMiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJwbGF5ZXJJY29uQnRuIiwiZ2FtZVR5cGVCdG4iLCJxdWVyeVNlbGVjdG9yIiwicGxheWVycyIsIm92ZXJsYXkiLCJwbGFjZUljb24iLCJhY3RpdmVQbGF5ZXJEaXYiLCJhY3RpdmVQbGF5ZXJJY29uIiwidGV4dENvbnRlbnQiLCJhY3RpdmVQbGF5ZXJOYW1lIiwiY3VyUm93IiwiTnVtYmVyIiwiY2xhc3NOYW1lIiwic3BsaXQiLCJjdXJDb2x1bW4iLCJnYW1lVHlwZSIsIndpbm5lclRleHQiLCJzdHlsZSIsImNvbG9yIiwiZGlzcGxheVdpbm5lclRleHQiLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJpbmNsdWRlcyIsInN3aXRjaFBsYXllciIsImljb25BSSIsInNxdWFyZSIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsInBsYWNlSWNvbkFJIiwiZm9yRWFjaCIsInBsYXllciIsInRvZ2dsZSIsIm5hbWUiLCJ3aW5uZXJJY29uIiwicmVzdGFydEdhbWUiLCJwbGF5ZXIxIiwicGxheWVyMiIsImFkZCIsInNlbGVjdEljb24iLCJwbGF5ZXJJY29uMSIsInBsYXllckljb24yIiwiYWRkRXZlbnRMaXN0ZW5lciIsImljb24iLCJwbGF5ZXIyTmFtZSJdLCJzb3VyY2VSb290IjoiIn0=